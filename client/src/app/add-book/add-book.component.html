<div class="col-md-6 col-md-offset-3">
	<h2>{{pageTitle}}</h2>
	<form name="form" (ngSubmit)="f.form.valid && save()"
		#f="ngForm" novalidate>
		<div class="form-group" *ngIf="!isEdit">
			<label for="file">File</label> 
			<input type="file"
				class="form-control" name="file" required (change)="fetchMetadata($event.target.files)"/>
		</div>
		<div class="form-group"
			[ngClass]="{ 'has-error': f.submitted && !title.valid }">
			<label for="title">Title</label> <input type="text"
				class="form-control" name="title" [(ngModel)]="book.title"
				#title="ngModel" required [disabled]="readonlyMetadata"/>
			<div *ngIf="f.submitted && !title.valid" class="help-block">Title
				is required</div>
		</div>
		<div class="form-group">
			<label for="author">Author</label> <input type="text"
				class="form-control" name="author" [(ngModel)]="book.author"
				#author="ngModel"  [disabled]="readonlyMetadata"/>
		</div>
		<div class="form-group">
			<label for="keywords">Keywords</label> <input type="text"
				class="form-control" name="keywords" [(ngModel)]="book.keywords"
				#keywords="ngModel"  [disabled]="readonlyMetadata"/>
		</div>
		<div class="form-group">
			<label for="language">Language</label> <select class="form-control"
				name="language" [(ngModel)]="book.languageId">
				<option *ngFor="let language of languages" value={{language.id}}>{{language.name}}</option>
			</select>
		</div>
		<div class="form-group">
			<label for="category">Category</label> <select class="form-control"
				name="category" [(ngModel)]="book.categoryId">
				<option *ngFor="let category of categories" value={{category.id}}>{{category.name}}</option>
			</select>
		</div>
		<div class="form-group">
			<button [disabled]="readonlyMetadata" class="btn btn-primary">Upload</button>
		</div>
	</form>
</div>
