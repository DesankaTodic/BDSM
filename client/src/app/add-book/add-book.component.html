<div class="col-md-6 col-md-offset-3">
	<h2>{{title}}</h2>
	<form name="form" (ngSubmit)="f.form.valid && save(f.value, f)"
		#f="ngForm" novalidate>
		<div class="form-group"
			[ngClass]="{ 'has-error': f.submitted && !title.valid }">
			<label for="title">Title</label> <input type="text"
				class="form-control" name="title" [(ngModel)]="book.title"
				#title="ngModel" required />
			<div *ngIf="f.submitted && !title.valid" class="help-block">Title
				is required</div>
		</div>
		<div class="form-group">
			<label for="author">Author</label> <input type="text"
				class="form-control" name="author" [(ngModel)]="book.author"
				#author="ngModel" />
		</div>
		<div class="form-group">
			<label for="keywords">Keywords</label> <input type="text"
				class="form-control" name="keywords" [(ngModel)]="book.keywords"
				#keywords="ngModel" />
		</div>
		<div class="form-group">
			<label for="language">Language</label> <select class="form-control"
				name="language" [(ngModel)]="book.languageId">
				<option value=null>ALL</option>
				<option *ngFor="let language of languages" value={{language.id}}>{{language.name}}</option>
			</select>
		</div>
		<div class="form-group">
			<label for="category">Category</label> <select class="form-control"
				name="category" [(ngModel)]="book.categoryId">
				<option value=null>ALL</option>
				<option *ngFor="let category of categories" value={{category.id}}>{{category.name}}</option>
			</select>
		</div>
		<div class="form-group"
			[ngClass]="{ 'has-error': f.submitted && !file.valid }">
			<label for="file">File</label> 
			<input type="file"
				class="form-control" name="file" required (change)="fetchMetadata($event.target.files)"/>
			<div *ngIf="f.submitted && !file.valid" class="help-block">File
				is required</div>
		</div>
		<div class="form-group">
			<button [disabled]="!f.form.valid" class="btn btn-primary">Upload</button>
		</div>
	</form>
</div>
